<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Form</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #ffffff;
            color: #333;
        }
        
        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 16px;
        }

        /* Header Styles */
        header {
            background-color: white;
            color: #333;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 100%;
            position: fixed;
            z-index: 10;
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 20px;
        }
        
        .logo-quote-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
        }
        
        .logo-container img {
            height: 40px;
        }
        
        .quote {
            font-style: italic;
            font-size: 0.9rem;
            color: #666;
        }
        
        nav {
            display: flex;
            justify-content: flex-end;
            gap: 20px;
            padding: 10px 0;
        }
        
        nav a {
            color: #333;
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.2s;
        }
        
        nav a:hover {
            color: #2563eb;
            text-decoration: underline;
        }
        
        /* Footer Styles */
        footer {
            padding: 30px 0;
            margin-top: auto;
            border-top: 1px solid #e5e7eb;
            background-color: white;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
        }
        
        .footer-info {
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .footer-info a {
            color: #2563eb;
            text-decoration: none;
        }
        
        .footer-info a:hover {
            text-decoration: underline;
        }
        
        .footer-copyright {
            font-size: 0.8rem;
            color: #6b7280;
        }

        /* Form Container */
        .form-container {
            background-color: rgba(255, 255, 249, 0.936);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            margin: 140px 0;
        }

        .form-content {
            padding: 24px;
        }

        /* Form Error/Success Message */
        #formError {
            display: none;
            padding: 10px;
            margin-bottom: 16px;
            border-radius: 6px;
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            transition: opacity 0.3s;
        }
        #formError.error {
            background-color: #fee2e2;
            color: #ef4444;
        }
        #formError.success {
            background-color: #d1fae5;
            color: #10b981;
        }

        /* Form Navigation */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
        }

        .form-page-indicator {
            text-align: center;
            margin-bottom: 16px;
            color: #6b7280;
            font-size: 14px;
        }

        /* Form Sections */
        .form-section {
            padding-top: 32px;
            display: none;
        }

        .form-section.active {
            display: block;
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .icon-container {
            background-color: #dbeafe;
            padding: 8px;
            border-radius: 9999px;
            margin-right: 12px;
        }

        .icon {
            width: 20px;
            height: 20px;
            color: #2563eb;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
            margin-bottom: 16px;
        }

        @media (min-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .form-label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
        }

        .required-field::after {
            content: "*";
            color: #ef4444;
            margin-left: 4px;
        }

        .form-input, .file-input {
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 12px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
            height: 46px;
            width: 100%;
        }

        .form-input:focus, .file-input:focus {
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }

        .form-input.invalid, .file-input.invalid {
            border-color: #ef4444;
        }

        .error-message {
            color: #ef4444;
            font-size: 12px;
            margin-top: 4px;
            display: none;
        }

        .form-textarea {
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 12px;
            font-size: 14px;
            resize: vertical;
            min-height: 100px;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
            width: 100%;
        }

        .form-textarea:focus {
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }

        .form-textarea.invalid {
            border-color: #ef4444;
        }

        .form-select {
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 12px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 1.5em 1.5em;
            padding-right: 36px;
            height: 46px;
            width: 100%;
        }

        .form-select:focus {
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }

        .form-select.invalid {
            border-color: #ef4444;
        }

        .education-section {
            background-color: #f3f4f6;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
            position: relative;
        }

        .education-title {
            font-size: 18px;
            font-weight: 500;
            color: #111827;
            margin-bottom: 16px;
        }

        .remove-education {
            position: absolute;
            top: 16px;
            right: 16px;
            color: #ef4444;
            cursor: pointer;
            background: none;
            border: none;
        }

        .remove-education:hover {
            color: #dc2626;
        }

        .checkbox-container {
            display: flex;
            align-items: flex-start;
            margin-top: 32px;
        }

        .checkbox-label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            cursor: pointer;
        }

        .checkbox-link {
            color: #2563eb;
            text-decoration: underline;
        }

        .checkbox-subtext {
            font-size: 14px;
            color: #6b7280;
            margin-top: 4px;
        }

        /* Buttons */
        .button {
            display: inline-flex;
            align-items: center;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            text-decoration: none;
            border: none;
        }

        .button-primary {
            background-color: #2563eb;
            color: white;
        }

        .button-primary:hover {
            background-color: #1d4ed8;
        }

        .button-secondary {
            background-color: white;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .button-secondary:hover {
            background-color: #f9fafb;
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .submit-button {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            background-color: #2563eb;
            color: white;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            margin-top: 32px;
            margin-left: auto;
            transition: background-color 0.2s;
        }

        .submit-button:hover {
            background-color: #1d4ed8;
        }

        .submit-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .submit-icon {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }

        /* Skills Input */
        .skills-input-container {
            position: relative;
        }

        .skills-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .skill-tag {
            background-color: #dbeafe;
            color: #1e40af;
            padding: 4px 8px;
            border-radius: 9999px;
            font-size: 12px;
            display: flex;
            align-items: center;
        }

        .remove-skill {
            margin-left: 4px;
            cursor: pointer;
            color: #1e40af;
            font-size: 14px;
            line-height: 1;
        }

        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: white;
            border-radius: 8px;
            padding: 24px;
            max-width: 768px;
            width: calc(100% - 32px);
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: #111827;
        }

        .modal-icon {
            width: 24px;
            height: 24px;
            color: #2563eb;
            margin-right: 8px;
        }

        .modal-section {
            margin-top: 16px;
        }

        .modal-section-title {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }

        .modal-section-text {
            font-size: 14px;
            color: #6b7280;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 24px;
        }

        /* Confirmation modal styles */
        .confirmation-details {
            margin-top: 24px;
        }

        .confirmation-section {
            margin-bottom: 24px;
        }

        .confirmation-section-title {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e5e7eb;
        }

        .confirmation-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        @media (min-width: 640px) {
            .confirmation-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .confirmation-item {
            margin-bottom: 8px;
        }

        .confirmation-label {
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .confirmation-value {
            font-size: 14px;
            color: #111827;
            word-break: break-word;
        }

        .confirmation-value.empty {
            color: #9ca3af;
            font-style: italic;
        }

        /* Loading spinner */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }
        .success {
            background-color: #4CAF50;
            color: white;
            font-weight: bold;
            text-align: center;
            max-width: 80%;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translate(-50%, -100%);
                opacity: 0;
            }
            to {
                transform: translate(-50%, 0);
                opacity: 1;
            }
        }

        /* Success message styling */
        #formError.success {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            padding: 15px 30px;
            border-radius: 5px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 90%;
            width: auto;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo-quote-container">
                <div class="logo-container">
                    <img src="logo.jpg" alt="Company Logo">
                </div>
                <div class="quote">"Empowering careers with opportunities"</div>
            </div>
            <nav>
                <a href="https://www.astrolitetech.com/index.html">Home</a>
                <a href="https://www.astrolitetech.com/about.html">About Us</a>
                <a href="https://www.astrolitetech.com/careers.html">Careers</a>
                <a href="https://www.astrolitetech.com/contact.html">contact/a>
            </nav>
        </div>
    </header>

    <!-- Form Container -->
    <main class="container">
        <div class="form-container">
            <!-- Form Error/Success Container -->
            <div id="formError"></div>
            <!-- Form Content -->
            <div class="form-content">
              <form id="applicationForm" enctype="multipart/form-data" onsubmit="event.preventDefault(); return false;">
                    <!-- Page 1: Personal Details -->
                    <div class="form-section active" id="page1">
                        <div class="section-header">
                            <div class="icon-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                            <h2 class="section-title">Personal Details</h2>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label required-field">Full Name</label>
                                <input type="text" name="full_name" required class="form-input" maxlength="255" pattern="^[a-zA-Z ]+$" title="Only alphabets and spaces allowed">
                                <div class="error-message">Please enter a valid name (only letters and spaces)</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Email</label>
                                <input type="email" name="email" required class="form-input" maxlength="255">
                                <div class="error-message">Please enter a valid email address</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Mobile</label>
                                <input type="tel" name="mobile" required class="form-input" maxlength="20" pattern="^[0-9]{10,15}$" title="10-15 digits only">
                                <div class="error-message">Please enter a valid mobile number (10-15 digits)</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Date of Birth</label>
                                <input type="date" name="dob" required class="form-input" min="" max="">
                                <div class="error-message">Age must be between 18 and 70 years</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Parent's Name</label>
                                <input type="text" name="parent_name" required class="form-input" maxlength="255" pattern="^[a-zA-Z ]+$" title="Only alphabets and spaces allowed">
                                <div class="error-message">Please enter a valid name (only letters and spaces)</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Gender</label>
                                <select name="gender" required class="form-select">
                                    <option value="">Select Gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                    <option value="Prefer not to say">Prefer not to say</option>
                                </select>
                                <div class="error-message">Please select your gender</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Nationality</label>
                                <input type="text" name="nationality" required class="form-input" maxlength="100" pattern="^[a-zA-Z ]+$" title="Only alphabets and spaces allowed">
                                <div class="error-message">Please enter a valid nationality</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Marital Status</label>
                                <select name="marital_status" class="form-select">
                                    <option value="">Select Marital Status</option>
                                    <option value="Single">Single</option>
                                    <option value="Married">Married</option>
                                    <option value="Divorced">Divorced</option>
                                    <option value="Widowed">Widowed</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="section-header" style="margin-top: 32px;">
                            <div class="icon-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                            </div>
                            <h2 class="section-title">Address</h2>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label required-field">Current Address</label>
                                <textarea name="current_address" rows="3" required class="form-textarea"></textarea>
                                <div class="error-message">Please enter your current address</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Permanent Address</label>
                                <textarea name="permanent_address" rows="3" required class="form-textarea"></textarea>
                                <div class="error-message">Please enter your permanent address</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">State</label>
                                <input type="text" name="state" required class="form-input" maxlength="100">
                                <div class="error-message">Please enter your state</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">City</label>
                                <input type="text" name="city" required class="form-input" maxlength="100">
                                <div class="error-message">Please enter your city</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Zipcode</label>
                                <input type="text" name="zipcode" required class="form-input" maxlength="20" pattern="^[0-9]+$" title="Only digits allowed">
                                <div class="error-message">Please enter a valid zipcode</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Emergency Contact</label>
                                <input type="text" name="emergency_contact" required class="form-input" maxlength="255" pattern="^[0-9]{10,15}$" title="10-15 digits only">
                                <div class="error-message">Please enter a valid emergency contact number</div>
                            </div>
                        </div>
                        
                        <div class="form-navigation">
                            <button type="button" class="button button-secondary" disabled>Previous</button>
                            <button type="button" class="button button-primary next-page">Next</button>
                        </div>
                    </div>

                    <!-- Page 2: Education and Job Details -->
                    <div class="form-section" id="page2">
                        <div class="section-header">
                            <div class="icon-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                            </div>
                            <h2 class="section-title">Educational Details</h2>
                        </div>
                        <div>
                            <!-- SSC (Mandatory) -->
                            <div class="education-section">
                                <h3 class="education-title">Secondary School Certificate (SSC) <span style="color: #ef4444;">*</span></h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label required-field">Board</label>
                                        <input type="text" name="ssc_board" required class="form-input" maxlength="255">
                                        <div class="error-message">Please enter your SSC board</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label required-field">Year</label>
                                        <input type="number" name="ssc_year" required min="1960" max="2035" class="form-input">
                                        <div class="error-message">Please enter a valid year (1960-2035)</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label required-field">Percentage</label>
                                        <input type="text" name="ssc_percentage" required class="form-input" maxlength="10" pattern="^[0-9.]+$" title="Only numbers and decimal point allowed">
                                        <div class="error-message">Please enter a valid percentage</div>
                                    </div>
                                </div>
                            </div>
                            <!-- Intermediate (Optional) -->
                            <div class="education-section" id="intermediateSection">
                                <h3 class="education-title">Intermediate</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">Board</label>
                                        <input type="text" name="intermediate_board" class="form-input" maxlength="255">
                                        <div class="error-message">Please enter a valid board</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Year</label>
                                        <input type="number" name="intermediate_year" min="1960" max="2035" class="form-input">
                                        <div class="error-message">Please enter a valid year (1960-2035)</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Percentage</label>
                                        <input type="text" name="intermediate_percentage" class="form-input" maxlength="10" pattern="^[0-9.]+$" title="Only numbers and decimal point allowed">
                                        <div class="error-message">Please enter a valid percentage</div>
                                    </div>
                                </div>
                            </div>
                            <!-- Graduation (Optional) -->
                            <div class="education-section" id="graduationSection">
                                <h3 class="education-title">Graduation</h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">College Name</label>
                                        <input type="text" name="college_name" class="form-input" maxlength="255">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Qualification</label>
                                        <input type="text" name="qualification" class="form-input" maxlength="255">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Branch</label>
                                        <input type="text" name="branch" class="form-input" maxlength="255">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Graduation Year</label>
                                        <input type="number" name="graduation_year" min="1960" max="2035" class="form-input">
                                        <div class="error-message">Please enter a valid year</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Graduation Percentage</label>
                                        <input type="text" name="graduation_percentage" class="form-input" maxlength="10" pattern="^[0-9.]+$" title="Only numbers and decimal point allowed">
                                        <div class="error-message">Please enter a valid percentage</div>
                                    </div>
                                </div>
                            </div>
                            <!-- Additional Education -->
                            <div id="additionalEducation"></div>
                            <div>
                                <button type="button" id="addEducationButton" class="button button-secondary">
                                    <svg style="width: 20px; height: 20px; margin-right: 8px;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                    </svg>
                                    Add Education
                                </button>
                            </div>
                        </div>
                        
                        <div class="section-header" style="margin-top: 32px;">
                            <div class="icon-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <h2 class="section-title">Job Expectations and Details</h2>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label required-field">Job Role</label>
                                <input type="text" name="job_role" required class="form-input" maxlength="255">
                                <div class="error-message">Please enter your desired job role</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Preferred Location</label>
                                <input type="text" name="preferred_location" required class="form-input" maxlength="255">
                                <div class="error-message">Please enter your preferred location</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Notice Period</label>
                                <input type="text" name="notice_period" required class="form-input" maxlength="100">
                                <div class="error-message">Please enter your notice period</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Expected Salary</label>
                                <input type="number" name="expected_salary" class="form-input" min="0">
                                <div class="error-message">Please enter a valid salary</div>
                            </div>
                            <div class="form-group" style="grid-column: span 1;">
                                <label class="form-label required-field">Skills</label>
                                <textarea name="skills_display" rows="3" required class="form-textarea" id="skillsTextarea"></textarea>
                                <input type="hidden" name="skills" id="hiddenSkills">
                                <div class="skills-tags" id="skillsTags"></div>
                                <p style="font-size: 12px; color: #6b7280; margin-top: 8px;">Type skills and press Enter or comma to add skills</p>
                                <div class="error-message">Please enter at least one skill</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required-field">Experience Status</label>
                                <select name="experience_status" required class="form-select">
                                    <option value="">Select Experience Status</option>
                                    <option value="Fresher">Fresher</option>
                                    <option value="Experienced">Experienced</option>
                                </select>
                                <div class="error-message">Please select your experience status</div>
                            </div>
                            <div id="experienceFields" style="grid-column: span 2; display: none;">
                                <div class="education-section">
                                    <h3 class="education-title">Work Experience</h3>
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label class="form-label">Years of Experience</label>
                                            <input type="number" name="years_experience" class="form-input" min="0" max="50">
                                            <div class="error-message">Please enter valid years of experience</div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Company Name</label>
                                            <input type="text" name="company_name" class="form-input" maxlength="255">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Designation</label>
                                            <input type="text" name="designation" class="form-input" maxlength="255">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Work Location</label>
                                            <input type="text" name="work_location" class="form-input" maxlength="255">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Start Date (MM/YYYY)</label>
                                            <input type="text" name="start_date" placeholder="MM/YYYY" class="form-input" maxlength="20" pattern="^(0[1-9]|1[0-2])\/[0-9]{4}$" title="Format: MM/YYYY">
                                            <div class="error-message">Please enter a valid start date (MM/YYYY)</div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">End Date (MM/YYYY)</label>
                                            <input type="text" name="end_date" placeholder="MM/YYYY" class="form-input" maxlength="20" pattern="^(0[1-9]|1[0-2])\/[0-9]{4}$" title="Format: MM/YYYY">
                                            <div class="error-message">Please enter a valid end date (MM/YYYY)</div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Last Salary</label>
                                            <input type="number" name="last_salary" class="form-input" min="0">
                                            <div class="error-message">Please enter a valid salary</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-navigation">
                            <button type="button" class="button button-secondary prev-page">Previous</button>
                            <button type="button" class="button button-primary next-page">Next</button>
                        </div>
                    </div>

                    <!-- Page 3: Additional Details and Documents -->
                    <div class="form-section" id="page3">
                        <div class="section-header">
                            <div class="icon-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <h2 class="section-title">Additional Details</h2>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Alternate Mobile</label>
                                <input type="tel" name="alt_mobile" class="form-input" maxlength="20" pattern="^[0-9]{10,15}$" title="10-15 digits only">
                                <div class="error-message">Please enter a valid mobile number</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">LinkedIn Profile</label>
                                <input type="url" name="linkedin" placeholder="https://linkedin.com/in/username" class="form-input" maxlength="255">
                                <div class="error-message">Please enter a valid LinkedIn URL</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">GitHub Profile</label>
                                <input type="url" name="github" placeholder="https://github.com/username" class="form-input" maxlength="255">
                                <div class="error-message">Please enter a valid GitHub URL</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Certifications</label>
                                <textarea name="certifications" rows="3" class="form-textarea"></textarea>
                                <p style="font-size: 12px; color: #6b7280; margin-top: 8px;">List any professional certifications you have</p>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Reference Name</label>
                                <input type="text" name="reference_name" class="form-input" maxlength="255">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Reference Email</label>
                                <input type="email" name="reference_email" class="form-input" maxlength="255">
                                <div class="error-message">Please enter a valid email</div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required-field">Upload Resume (PDF)</label>
                            <input id="resume" name="resume" type="file" accept="application/pdf" required class="file-input">
                            <div class="error-message">Please upload a PDF file (max 5MB)</div>
                            <p style="font-size: 12px; color: #6b7280; margin-top: 8px;">PDF up to 5MB</p>
                        </div>
                        
                        <div class="section-header" style="margin-top: 32px;">
                            <div class="icon-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <h2 class="section-title">Cover Letter (Optional)</h2>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Upload Cover Letter (PDF)</label>
                            <input id="cover_letter" name="cover_letter" type="file" accept="application/pdf" class="file-input">
                            <div class="error-message">Please upload a PDF file (max 5MB)</div>
                            <p style="font-size: 12px; color: #6b7280; margin-top: 8px;">PDF up to 5MB</p>
                        </div>
                        
                        <!-- Terms and Conditions -->
                        <div style="margin-top: 32px;">
                            <label class="checkbox-label">
                                <input id="termsCheckbox" name="terms" type="checkbox" required style="margin-right: 8px;" value="accepted">
                                I agree to the <a href="#" id="termsLink" class="checkbox-link">Terms and Conditions</a> <span style="color: #ef4444;">*</span>
                            </label>
                            <p class="checkbox-subtext">By submitting this form, you agree to our privacy policy and terms of service.</p>
                            <div class="error-message">Please accept the terms and conditions</div>
                        </div>
                        
                        <div class="form-navigation">
                            <button type="button" class="button button-secondary prev-page">Previous</button>
                            <button type="submit" id="submitButton" class="button button-primary submit-button">
                                <svg class="submit-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                                </svg>
                                Submit Application
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-page-indicator">
                        <span id="currentPage">1</span> of 3
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-info">
                <a href="https://www.astrolitetech.com/">www.astrolitetech.com</a> | 
                <!-- <a href="mailto:info@astrolitetech.com">info@astrolitetech.com</a> -->
                <a href="mailto:info@astrolitetech.com">info@astrolitetech.com</a>
            </div>
            <div class="footer-copyright">
                © 2025 Astrolite. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Confirmation Modal -->
    <div id="confirmationModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <svg class="modal-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h2 class="modal-title">Confirm Your Application</h2>
            </div>
            <p style="font-size: 14px; color: #6b7280; margin-bottom: 16px;">Please review your information before submitting:</p>
            
            <div class="confirmation-details">
                <div class="confirmation-section">
                    <h3 class="confirmation-section-title">Personal Details</h3>
                    <div class="confirmation-grid">
                        <div class="confirmation-item">
                            <div class="confirmation-label">Full Name</div>
                            <div class="confirmation-value" id="confirmFullName"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Email</div>
                            <div class="confirmation-value" id="confirmEmail"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Mobile</div>
                            <div class="confirmation-value" id="confirmMobile"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Date of Birth</div>
                            <div class="confirmation-value" id="confirmDob"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Gender</div>
                            <div class="confirmation-value" id="confirmGender"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Nationality</div>
                            <div class="confirmation-value" id="confirmNationality"></div>
                        </div>
                    </div>
                </div>

                <div class="confirmation-section">
                    <h3 class="confirmation-section-title">Address</h3>
                    <div class="confirmation-grid">
                        <div class="confirmation-item">
                            <div class="confirmation-label">Current Address</div>
                            <div class="confirmation-value" id="confirmCurrentAddress"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Permanent Address</div>
                            <div class="confirmation-value" id="confirmPermanentAddress"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">City, State, Zipcode</div>
                            <div class="confirmation-value" id="confirmLocation"></div>
                        </div>
                    </div>
                </div>

                <div class="confirmation-section">
                    <h3 class="confirmation-section-title">Education</h3>
                    <div class="confirmation-grid">
                        <div class="confirmation-item">
                            <div class="confirmation-label">SSC</div>
                            <div class="confirmation-value" id="confirmSsc"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Intermediate</div>
                            <div class="confirmation-value" id="confirmIntermediate"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Graduation</div>
                            <div class="confirmation-value" id="confirmGraduation"></div>
                        </div>
                    </div>
                </div>

                <div class="confirmation-section">
                    <h3 class="confirmation-section-title">Job Details</h3>
                    <div class="confirmation-grid">
                        <div class="confirmation-item">
                            <div class="confirmation-label">Job Role</div>
                            <div class="confirmation-value" id="confirmJobRole"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Preferred Location</div>
                            <div class="confirmation-value" id="confirmPreferredLocation"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Experience Status</div>
                            <div class="confirmation-value" id="confirmExperienceStatus"></div>
                        </div>
                        <div class="confirmation-item">
                            <div class="confirmation-label">Skills</div>
                            <div class="confirmation-value" id="confirmSkills"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="cancelConfirmation" type="button" class="button button-secondary">Back to Form</button>
                <button id="confirmSubmission" type="button" class="button button-primary">Confirm and Submit</button>
            </div>
        </div>
    </div>

    <!-- Terms and Conditions Modal -->
    <div id="termsModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <svg class="modal-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h2 class="modal-title">Terms and Conditions</h2>
            </div>
            <div style="max-height: 60vh; overflow-y: auto;">
                <div class="modal-section">
                    <h3 class="modal-section-title">1. Application Process</h3>
                    <p class="modal-section-text">
                        By submitting this application, you agree to provide accurate and truthful information about your qualifications, experience, and background. Any misrepresentation may result in disqualification from consideration or termination of employment if discovered after hiring.
                    </p>
                </div>
                <div class="modal-section">
                    <h3 class="modal-section-title">2. Data Collection and Privacy</h3>
                    <p class="modal-section-text">
                        We collect personal data as part of the recruitment process. This data will be used solely for recruitment purposes and will be stored securely in accordance with applicable data protection laws.
                    </p>
                </div>
                <div class="modal-section">
                    <h3 class="modal-section-title">3. Interview Process</h3>
                    <p class="modal-section-text">
                        If selected, you agree to participate in our interview process which may include phone screenings, technical assessments, and in-person interviews.
                    </p>
                </div>
                <div class="modal-section">
                    <h3 class="modal-section-title">4. Data Retention</h3>
                    <p class="modal-section-text">
                        Your application data will be retained for a period of 12 months from the date of submission unless you request its deletion earlier.
                    </p>
                </div>
                <div class="modal-section">
                    <h3 class="modal-section-title">5. Communication</h3>
                    <p class="modal-section-text">
                        By submitting this application, you consent to receive communications regarding your application status via email or phone.
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelTerms" type="button" class="button button-secondary">Cancel</button>
                <button id="confirmTerms" type="button" class="button button-primary">I Accept</button>
            </div>
        </div>
    </div>
<script>
const BASE_URL = 'http://13.50.16.239:3431';
let isSubmitting = false;

// Utility Functions
function showError(message) {
    console.error('Error:', message);
    const errorContainer = document.getElementById('formError');
    if (errorContainer) {
        errorContainer.textContent = message;
        errorContainer.style.display = 'block';
        errorContainer.className = 'error';
        setTimeout(() => errorContainer.style.display = 'none', 5000);
        window.scrollTo({ top: 0, behavior: 'smooth' });
    } else {
        alert('Error: ' + message);
    }
}

function showSuccess(message) {
    console.log('Success:', message);
    const successContainer = document.getElementById('formError');
    if (successContainer) {
        successContainer.textContent = message;
        successContainer.style.display = 'block';
        successContainer.className = 'success';
        setTimeout(() => successContainer.style.display = 'none', 10000);
        window.scrollTo({ top: 0, behavior: 'smooth' });
    } else {
        alert('Success: ' + message);
    }
}

function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
}

// Form Validation
function validateCurrentPage() {
    const pages = document.querySelectorAll('.form-section');
    const currentPage = Array.from(pages).findIndex(page => page.classList.contains('active'));
    const currentPageForm = pages[currentPage];
    const requiredInputs = currentPageForm.querySelectorAll('[required]');
    let isValid = true;

    requiredInputs.forEach(input => {
        const errorMessage = input.closest('.form-group')?.querySelector('.error-message');
        if (!errorMessage) return;
        
        if (!input.value.trim()) {
            input.classList.add('invalid');
            errorMessage.style.display = 'block';
            isValid = false;
        } else {
            // Special validation for specific fields
            if (input.type === 'email' && !validateEmail(input.value)) {
                input.classList.add('invalid');
                errorMessage.style.display = 'block';
                isValid = false;
            } else if (input.pattern && !new RegExp(input.pattern).test(input.value)) {
                input.classList.add('invalid');
                errorMessage.style.display = 'block';
                isValid = false;
            } else if (input.type === 'number' && (input.min || input.max)) {
                const value = parseFloat(input.value);
                if ((input.min && value < parseFloat(input.min)) || 
                    (input.max && value > parseFloat(input.max))) {
                    input.classList.add('invalid');
                    errorMessage.style.display = 'block';
                    isValid = false;
                } else {
                    input.classList.remove('invalid');
                    errorMessage.style.display = 'none';
                }
            } else {
                input.classList.remove('invalid');
                errorMessage.style.display = 'none';
            }
        }
    });

    // Special validation for skills
    if (currentPage === 1) {
        const skillsTags = document.getElementById('skillsTags');
        const skillsError = document.querySelector('#skillsTextarea').closest('.form-group').querySelector('.error-message');
        if (skillsTags.children.length === 0) {
            skillsError.style.display = 'block';
            isValid = false;
        } else {
            skillsError.style.display = 'none';
        }
    }

    // Special validation for terms checkbox
    if (currentPage === 2) {
        const termsCheckbox = document.getElementById('termsCheckbox');
        const termsError = termsCheckbox.closest('div').querySelector('.error-message');
        if (!termsCheckbox.checked) {
            termsError.style.display = 'block';
            isValid = false;
        } else {
            termsError.style.display = 'none';
        }
    }

    return isValid;
}

// Skills Management
function addSkillTag(skillText) {
    if (!skillText) return;
    
    const skills = skillText.split(',').map(s => s.trim()).filter(s => s);
    const skillsTagsContainer = document.getElementById('skillsTags');
    
    skills.forEach(skill => {
        const tag = document.createElement('div');
        tag.className = 'skill-tag';
        tag.innerHTML = `${skill}<span class="remove-skill" onclick="removeSkillTag(this)">×</span>`;
        skillsTagsContainer.appendChild(tag);
    });
    updateSkillsTextarea();
}

function removeSkillTag(element) {
    element.parentElement.remove();
    updateSkillsTextarea();
}

function updateSkillsTextarea() {
    const skillsTagsContainer = document.getElementById('skillsTags');
    const skillsTextarea = document.getElementById('skillsTextarea');
    const hiddenSkillsInput = document.getElementById('hiddenSkills');
    
    const tags = Array.from(skillsTagsContainer.querySelectorAll('.skill-tag'));
    const skills = tags.map(tag => tag.textContent.replace('×', '').trim());
    skillsTextarea.value = skills.join(', ');
    hiddenSkillsInput.value = skills.join(', ');
}

function setupSkillsInput() {
    const skillsTextarea = document.getElementById('skillsTextarea');
    if (skillsTextarea) {
        skillsTextarea.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ',') {
                e.preventDefault();
                const skillText = skillsTextarea.value.trim();
                if (skillText) {
                    addSkillTag(skillText);
                    skillsTextarea.value = '';
                }
            }
        });
    }
}

// Form Navigation
function setupFormPagination() {
    const pages = document.querySelectorAll('.form-section');
    const prevButtons = document.querySelectorAll('.prev-page');
    const nextButtons = document.querySelectorAll('.next-page');
    const currentPageIndicator = document.getElementById('currentPage');
    let currentPage = 0;

    const updateButtons = () => {
        prevButtons.forEach(btn => btn.disabled = currentPage === 0);
        nextButtons.forEach(btn => btn.disabled = currentPage === pages.length - 1);
        currentPageIndicator.textContent = currentPage + 1;
    };

    prevButtons.forEach(button => {
        button.addEventListener('click', () => {
            if (currentPage > 0) {
                pages[currentPage].classList.remove('active');
                currentPage--;
                pages[currentPage].classList.add('active');
                updateButtons();
            }
        });
    });

    nextButtons.forEach(button => {
        button.addEventListener('click', () => {
            if (validateCurrentPage() && currentPage < pages.length - 1) {
                pages[currentPage].classList.remove('active');
                currentPage++;
                pages[currentPage].classList.add('active');
                updateButtons();
            }
        });
    });

    updateButtons();
}

// Form Sections
function setupExperienceFields() {
    const experienceStatus = document.querySelector('select[name="experience_status"]');
    const experienceFields = document.getElementById('experienceFields');
    
    if (experienceStatus && experienceFields) {
        experienceStatus.addEventListener('change', () => {
            experienceFields.style.display = experienceStatus.value === 'Experienced' ? 'block' : 'none';
        });
    }
}

function setupAdditionalEducation() {
    const addEducationButton = document.getElementById('addEducationButton');
    const additionalEducationContainer = document.getElementById('additionalEducation');
    
    if (addEducationButton && additionalEducationContainer) {
        addEducationButton.addEventListener('click', () => {
            const educationId = `additional_${Date.now()}`;
            const educationSection = document.createElement('div');
            educationSection.className = 'education-section';
            educationSection.id = educationId;
            educationSection.innerHTML = `
                <h3 class="education-title">Additional Education</h3>
                <button type="button" class="remove-education" onclick="removeEducation('${educationId}')">×</button>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Course Name</label>
                        <input type="text" name="additional_course_name_${educationId}" class="form-input" maxlength="255">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Institute Name</label>
                        <input type="text" name="additional_institute_${educationId}" class="form-input" maxlength="255">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Year</label>
                        <input type="number" name="additional_year_${educationId}" min="1960" max="2035" class="form-input">
                        <div class="error-message">Please enter a valid year</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Percentage</label>
                        <input type="text" name="additional_percentage_${educationId}" class="form-input" maxlength="10" pattern="^[0-9.]+$">
                        <div class="error-message">Please enter a valid percentage</div>
                    </div>
                </div>
            `;
            additionalEducationContainer.appendChild(educationSection);
        });
    }
}

function removeEducation(educationId) {
    const educationSection = document.getElementById(educationId);
    if (educationSection) educationSection.remove();
}

// Form Submission
function setupConfirmationModal() {
    const form = document.getElementById('applicationForm');
    const confirmationModal = document.getElementById('confirmationModal');
    const cancelConfirmation = document.getElementById('cancelConfirmation');
    const submitButton = document.getElementById('submitButton');
    
    if (form && confirmationModal && cancelConfirmation && submitButton) {
        // Prevent default form submission
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            return false;
        }, true);

        submitButton.addEventListener('click', (e) => {
            e.preventDefault();
            if (validateCurrentPage()) {
                const formData = new FormData(form);
                const data = {};
                formData.forEach((value, key) => data[key] = value);
                
                // Update confirmation modal with form data
                document.getElementById('confirmFullName').textContent = data.full_name || 'Not provided';
                document.getElementById('confirmEmail').textContent = data.email || 'Not provided';
                document.getElementById('confirmMobile').textContent = data.mobile || 'Not provided';
                document.getElementById('confirmDob').textContent = data.dob || 'Not provided';
                document.getElementById('confirmGender').textContent = data.gender || 'Not provided';
                document.getElementById('confirmNationality').textContent = data.nationality || 'Not provided';
                document.getElementById('confirmCurrentAddress').textContent = data.current_address || 'Not provided';
                document.getElementById('confirmPermanentAddress').textContent = data.permanent_address || 'Not provided';
                document.getElementById('confirmLocation').textContent = `${data.city || ''}, ${data.state || ''} ${data.zipcode || ''}`.trim() || 'Not provided';
                
                // Education
                document.getElementById('confirmSsc').textContent = 
                    `${data.ssc_board || ''} (${data.ssc_year || ''}) - ${data.ssc_percentage || ''}%`.trim() || 'Not provided';
                document.getElementById('confirmIntermediate').textContent = 
                    `${data.intermediate_board || ''} (${data.intermediate_year || ''}) - ${data.intermediate_percentage || ''}%`.trim() || 'Not provided';
                document.getElementById('confirmGraduation').textContent = 
                    `${data.qualification || ''} in ${data.branch || ''} from ${data.college_name || ''} (${data.graduation_year || ''}) - ${data.graduation_percentage || ''}%`.trim() || 'Not provided';
                
                // Job details
                document.getElementById('confirmJobRole').textContent = data.job_role || 'Not provided';
                document.getElementById('confirmPreferredLocation').textContent = data.preferred_location || 'Not provided';
                document.getElementById('confirmExperienceStatus').textContent = data.experience_status || 'Not provided';
                document.getElementById('confirmSkills').textContent = data.skills || 'Not provided';
                
                confirmationModal.classList.add('active');
            }
        });

        cancelConfirmation.addEventListener('click', () => {
            confirmationModal.classList.remove('active');
        });
    }
}

function setupFormSubmission() {
    const form = document.getElementById('applicationForm');
    const confirmationModal = document.getElementById('confirmationModal');
    const confirmSubmission = document.getElementById('confirmSubmission');
    const submitButton = document.getElementById('submitButton');

    if (form && confirmationModal && confirmSubmission && submitButton) {
        confirmSubmission.addEventListener('click', async (e) => {
            if (isSubmitting) return;
            isSubmitting = true;
            
            e.preventDefault();
            submitButton.disabled = true;
            submitButton.innerHTML = `<svg class="animate-spin" style="width:20px;height:20px;margin-right:8px;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg> Submitting...`;

            try {
                const formData = new FormData(form);
                const response = await fetch(`${BASE_URL}/api/submit`, {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    throw new Error(errorData.message || 'Submission failed');
                }

                const result = await response.json();
                
                // Success handling
                confirmationModal.classList.remove('active');
                form.reset();
                
                // Reset form UI
                document.getElementById('skillsTags').innerHTML = '';
                document.querySelectorAll('.form-section').forEach((page, index) => {
                    page.classList.toggle('active', index === 0);
                });
                document.getElementById('currentPage').textContent = '1';

                showSuccess(result.message || 'Application submitted successfully!');

            } catch (error) {
                console.error('Submission error:', error);
                showError(error.message || 'Submission failed. Please try again.');
            } finally {
                isSubmitting = false;
                submitButton.disabled = false;
                submitButton.innerHTML = `<svg class="submit-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg> Submit Application`;
            }
        });
    }
}

// Terms Modal
function setupTermsModal() {
    const termsLink = document.getElementById('termsLink');
    const termsModal = document.getElementById('termsModal');
    const cancelTerms = document.getElementById('cancelTerms');
    const confirmTerms = document.getElementById('confirmTerms');
    const termsCheckbox = document.getElementById('termsCheckbox');

    if (termsLink && termsModal && cancelTerms && confirmTerms && termsCheckbox) {
        termsLink.addEventListener('click', (e) => {
            e.preventDefault();
            termsModal.classList.add('active');
        });

        cancelTerms.addEventListener('click', () => {
            termsModal.classList.remove('active');
        });

        confirmTerms.addEventListener('click', () => {
            termsCheckbox.checked = true;
            termsModal.classList.remove('active');
        });
    }
}

// Initialize Application
document.addEventListener('DOMContentLoaded', () => {
    // Set up DOB date limits
    const dobInput = document.querySelector('input[name="dob"]');
    if (dobInput) {
        const today = new Date();
        dobInput.max = new Date(today.getFullYear() - 18, today.getMonth(), today.getDate()).toISOString().split('T')[0];
        dobInput.min = new Date(today.getFullYear() - 70, today.getMonth(), today.getDate()).toISOString().split('T')[0];
    }

    // Initialize all components
    try {
        setupSkillsInput();
        setupFormPagination();
        setupExperienceFields();
        setupAdditionalEducation();
        setupConfirmationModal();
        setupFormSubmission();
        setupTermsModal();
    } catch (error) {
        console.error('Initialization error:', error);
        showError('Failed to initialize form. Please refresh the page.');
    }

    // Global error handler
    window.addEventListener('error', (e) => {
        console.error('Global error:', e);
        showError('An unexpected error occurred. Please try again.');
        e.preventDefault();
    });
});
</script>
</body>
</html>